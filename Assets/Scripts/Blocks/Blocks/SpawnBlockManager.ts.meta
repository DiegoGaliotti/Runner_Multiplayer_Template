fileFormatVersion: 2
guid: 33abd7457c3f24d9682cef34595be7a7
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\n// Import necessary modules from the
    UnityEngine library\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst BlocksMoveLeft_1
    = require(\\\"./BlocksMoveLeft\\\");\\r\\n// Define the ObstacleSpawnManager
    class which extends the ZepetoScriptBehaviour class\\r\\nclass SpawnBlockManager
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor() {\\r\\n       
    super(...arguments);\\r\\n        //Array to store generated blocks in the game.\\r\\n       
    this.generatedBlocks = [];\\r\\n        // Define the position where new blocks
    will be spawned\\r\\n        this.spawnBlockPosition = new UnityEngine_1.Vector3(20,
    0, 0);\\r\\n        //Define the position to trigger de new block.\\r\\n       
    this.respawnBlockPositionX = 0;\\r\\n        //The x limit where the block is
    destroy.\\r\\n        this.xLeftBoundDestroy = -20;\\r\\n        //All blocks
    Speed.\\r\\n        this.allBlocksSpeed = 1;\\r\\n        // Indicator to know
    if a block has already been spawned\\r\\n        this.blockSpawned = false;\\r\\n       
    this.blockRespawnPosition = 0;\\r\\n    }\\r\\n    Awake() {\\r\\n        //
    This is how the instance of this class is allocated. Which makes it a \\\"singleton\\\"\\r\\n       
    // https://en.wikipedia.org/wiki/Singleton_pattern\\r\\n        if (SpawnBlockManager.Instance
    == null)\\r\\n            SpawnBlockManager.Instance = this;\\r\\n        else\\r\\n           
    UnityEngine_1.GameObject.Destroy(this);\\r\\n    }\\r\\n    StartSpawnBlockManager()
    {\\r\\n        this.GenerateRandomBlock();\\r\\n    }\\r\\n    // This function
    is called once per frame\\r\\n    Update() {\\r\\n        this.CheckBlockPosition();\\r\\n   
    }\\r\\n    ResumeSpawnBlockManager() {\\r\\n        if (this.generatedBlocks
    != null) {\\r\\n            if (this.generatedBlocks.length != 0) {\\r\\n               
    for (const block of this.generatedBlocks) {\\r\\n                    if (UnityEngine_1.GameObject.op_Inequality(block,
    null)) {\\r\\n                        block.GetComponent($typeof(BlocksMoveLeft_1.default)).SetMoving(true);\\r\\n                   
    }\\r\\n                }\\r\\n            }\\r\\n            else\\r\\n               
    this.GenerateRandomBlock();\\r\\n        }\\r\\n    }\\r\\n    CheckBlockPosition()
    {\\r\\n        // Check if blockGenerated is not null (exists).\\r\\n       
    if (this.blockGenerated && UnityEngine_1.GameObject.op_Inequality(this.blockGenerated,
    null)) {\\r\\n            // If the block's x-position is less than or equal
    to 0 and we haven't spawned a block yet.\\r\\n            if (this.blockGenerated.transform.position.x
    <= this.respawnBlockPositionX && !this.blockSpawned) {\\r\\n                //
    Generate a new random block.\\r\\n                this.GenerateRandomBlock();\\r\\n               
    // Indicate that we have spawned a block.\\r\\n                this.blockSpawned
    = true;\\r\\n            }\\r\\n            // If the block's x-position is greater
    than 0 (moved back for some reason).\\r\\n            else if (this.blockGenerated.transform.position.x
    > this.respawnBlockPositionX) {\\r\\n                // Reset the block spawn
    indicator.\\r\\n                this.blockSpawned = false;\\r\\n            }\\r\\n       
    }\\r\\n    }\\r\\n    GenerateRandomBlock() {\\r\\n        // Function to generate
    a random block from the blocks array.\\r\\n        // Get a random number between
    0 and the length of the blocks array.\\r\\n        let n = Math.floor(UnityEngine_1.Random.Range(0,
    this.blocks.length));\\r\\n        // Instantiate a random block from the blocks
    array at the specified spawn position.\\r\\n        const newBlock = UnityEngine_1.GameObject.Instantiate(this.blocks[n],
    this.spawnBlockPosition, UnityEngine_1.Quaternion.identity, // No rotation applied\\r\\n       
    this.transform);\\r\\n        // Assign the newly spawned block to our blockGenerated
    variable.\\r\\n        this.blockGenerated = newBlock;\\r\\n        // Add the
    block to the generatedBlocks list.\\r\\n        this.generatedBlocks.push(this.blockGenerated);\\r\\n       
    // Set the speed of the newly spawned block\\r\\n        this.blockGenerated.GetComponent($typeof(BlocksMoveLeft_1.default)).SetBlockSpeed(this.allBlocksSpeed);\\r\\n       
    //Call function to destroy the blocks that are beyond a point.\\r\\n        this.DestroyBlock();\\r\\n   
    }\\r\\n    StopSpawnBlockManager() {\\r\\n        for (const block of this.generatedBlocks)
    {\\r\\n            if (UnityEngine_1.GameObject.op_Inequality(block, null)) {\\r\\n               
    block.GetComponent($typeof(BlocksMoveLeft_1.default)).SetMoving(false);\\r\\n           
    }\\r\\n        }\\r\\n    }\\r\\n    SetBlockSpeed(value) {\\r\\n        this.allBlocksSpeed
    = value;\\r\\n    }\\r\\n    DestroyBlock() {\\r\\n        let blocksToDestroy
    = []; // Lista temporal de bloques a destruir\\r\\n        for (const block of
    this.generatedBlocks) {\\r\\n            if (UnityEngine_1.GameObject.op_Inequality(block,
    null)) {\\r\\n                if (block.transform.position.x <= this.xLeftBoundDestroy)
    {\\r\\n                    blocksToDestroy.push(block); // Marca el bloque para
    destruirlo a\xF1adi\xE9ndolo a la lista\\r\\n                }\\r\\n           
    }\\r\\n        }\\r\\n        // Destruye los bloques marcados.\\r\\n       
    for (const block of blocksToDestroy) {\\r\\n            block.GetComponent($typeof(BlocksMoveLeft_1.default)).DestroyBlock();\\r\\n       
    }\\r\\n        // Filtra las referencias nulas en generatedBlocks.\\r\\n       
    this.generatedBlocks = this.generatedBlocks.filter(block => UnityEngine_1.GameObject.op_Inequality(block,
    null));\\r\\n    }\\r\\n    DestroyAllBlocks() {\\r\\n        // Lista temporal
    de bloques a destruir\\r\\n        this.StopSpawnBlockManager();\\r\\n       
    for (const block of this.generatedBlocks) {\\r\\n            if (UnityEngine_1.GameObject.op_Inequality(block,
    null)) {\\r\\n                UnityEngine_1.GameObject.Destroy(block); // Marca
    el bloque para destruirlo a\xF1adi\xE9ndolo a la lista\\r\\n            }\\r\\n       
    }\\r\\n    }\\r\\n}\\r\\nexports.default = SpawnBlockManager;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Bhd25CbG9ja01hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJTcGF3bkJsb2NrTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHdEQUF3RDtBQUN4RCw2Q0FBcUU7QUFDckUsaURBQXFEO0FBQ3JELHFEQUE4QztBQUU5QyxzRkFBc0Y7QUFDdEYsTUFBcUIsaUJBQWtCLFNBQVEscUNBQXFCO0lBQXBFOztRQU1JLDhDQUE4QztRQUV2QyxvQkFBZSxHQUFpQixFQUFFLENBQUM7UUFFMUMsdURBQXVEO1FBQ2hELHVCQUFrQixHQUFZLElBQUkscUJBQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTNELDhDQUE4QztRQUN0QywwQkFBcUIsR0FBVyxDQUFDLENBQUM7UUFFMUMseUNBQXlDO1FBQ2xDLHNCQUFpQixHQUFXLENBQUMsRUFBRSxDQUFDO1FBRXZDLG1CQUFtQjtRQUNaLG1CQUFjLEdBQVcsQ0FBQyxDQUFDO1FBS2xDLHdEQUF3RDtRQUNoRCxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUU5Qix5QkFBb0IsR0FBVyxDQUFDLENBQUE7SUFvSTVDLENBQUM7SUFsSVUsS0FBSztRQUNSLG9GQUFvRjtRQUNwRixrREFBa0Q7UUFDbEQsSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLElBQUksSUFBSTtZQUFFLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7O1lBQ3JFLHdCQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxzQkFBc0I7UUFDbEIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUdELHlDQUF5QztJQUN6QyxNQUFNO1FBQ0YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVELHVCQUF1QjtRQUVuQixJQUFHLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxFQUFDO1lBQzVCLElBQUks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\",\"assetPath\":\"Assets/Scripts/Blocks/Blocks/SpawnBlockManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"blocks\",\"type\":\"UnityEngine.GameObject[]\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"generatedBlocks\",\"type\":\"UnityEngine.GameObject[]\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"spawnBlockPosition\",\"type\":\"UnityEngine.Vector3\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"mscorlib\",\"name\":\"xLeftBoundDestroy\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"mscorlib\",\"name\":\"allBlocksSpeed\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[\"1\"],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"SpawnBlockManager\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: 078dab40334c9137f204211b458db610
  onlyWriteTrigger: 0
