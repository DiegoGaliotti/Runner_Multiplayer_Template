fileFormatVersion: 2
guid: 33abd7457c3f24d9682cef34595be7a7
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\n// Import necessary modules from the
    UnityEngine library\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst BlocksMoveLeft_1
    = require(\\\"./BlocksMoveLeft\\\");\\r\\n// Define the ObstacleSpawnManager
    class which extends the ZepetoScriptBehaviour class\\r\\nclass SpawnBlockManager
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor() {\\r\\n       
    super(...arguments);\\r\\n        //Array to store generated blocks in the game.\\r\\n       
    this.generatedBlocks = [];\\r\\n        // Define the position where new blocks
    will be spawned\\r\\n        this.spawnBlockPosition = new UnityEngine_1.Vector3(20,
    0, 0);\\r\\n        //Define the position to trigger de new block.\\r\\n       
    this.respawnBlockPositionX = 0;\\r\\n        //The x limit where the block is
    destroy.\\r\\n        this.xLeftBoundDestroy = -20;\\r\\n        //All blocks
    Speed.\\r\\n        this.allBlocksSpeed = 1;\\r\\n        // Indicator to know
    if a block has already been spawned\\r\\n        this.blockSpawned = false;\\r\\n       
    this.blockRespawnPosition = 0;\\r\\n    }\\r\\n    Awake() {\\r\\n        //
    This is how the instance of this class is allocated. Which makes it a \\\"singleton\\\"\\r\\n       
    // https://en.wikipedia.org/wiki/Singleton_pattern\\r\\n        if (SpawnBlockManager.Instance
    == null)\\r\\n            SpawnBlockManager.Instance = this;\\r\\n        else\\r\\n           
    UnityEngine_1.GameObject.Destroy(this);\\r\\n    }\\r\\n    StartSpawnBlockManager()
    {\\r\\n        this.GenerateRandomBlock();\\r\\n    }\\r\\n    // This function
    is called once per frame\\r\\n    Update() {\\r\\n        this.CheckBlockPosition();\\r\\n   
    }\\r\\n    ResumeSpawnBlockManager() {\\r\\n        if (this.generatedBlocks.length
    != 0) {\\r\\n            for (const block of this.generatedBlocks) {\\r\\n               
    if (UnityEngine_1.GameObject.op_Inequality(block, null)) {\\r\\n                   
    block.GetComponent($typeof(BlocksMoveLeft_1.default)).SetMoving(true);\\r\\n               
    }\\r\\n            }\\r\\n        }\\r\\n        else\\r\\n            this.GenerateRandomBlock();\\r\\n   
    }\\r\\n    CheckBlockPosition() {\\r\\n        // Check if blockGenerated is
    not null (exists).\\r\\n        if (this.blockGenerated) {\\r\\n            //
    If the block's x-position is less than or equal to 0 and we haven't spawned a
    block yet.\\r\\n            if (this.blockGenerated.transform.position.x <= this.respawnBlockPositionX
    && !this.blockSpawned) {\\r\\n                // Generate a new random block.\\r\\n               
    this.GenerateRandomBlock();\\r\\n                // Indicate that we have spawned
    a block.\\r\\n                this.blockSpawned = true;\\r\\n            }\\r\\n           
    // If the block's x-position is greater than 0 (moved back for some reason).\\r\\n           
    else if (this.blockGenerated.transform.position.x > this.respawnBlockPositionX)
    {\\r\\n                // Reset the block spawn indicator.\\r\\n               
    this.blockSpawned = false;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n   
    GenerateRandomBlock() {\\r\\n        // Function to generate a random block from
    the blocks array.\\r\\n        // Get a random number between 0 and the length
    of the blocks array.\\r\\n        let n = Math.floor(UnityEngine_1.Random.Range(0,
    this.blocks.length));\\r\\n        // Instantiate a random block from the blocks
    array at the specified spawn position.\\r\\n        const newBlock = UnityEngine_1.GameObject.Instantiate(this.blocks[n],
    this.spawnBlockPosition, UnityEngine_1.Quaternion.identity, // No rotation applied\\r\\n       
    this.transform);\\r\\n        // Assign the newly spawned block to our blockGenerated
    variable.\\r\\n        this.blockGenerated = newBlock;\\r\\n        // Add the
    block to the generatedBlocks list.\\r\\n        this.generatedBlocks.push(this.blockGenerated);\\r\\n       
    // Set the speed of the newly spawned block\\r\\n        this.blockGenerated.GetComponent($typeof(BlocksMoveLeft_1.default)).SetBlockSpeed(this.allBlocksSpeed);\\r\\n       
    //Call function to destroy the blocks that are beyond a point.\\r\\n        this.DestroyBlock();\\r\\n   
    }\\r\\n    StopSpawnBlockManager() {\\r\\n        for (const block of this.generatedBlocks)
    {\\r\\n            if (UnityEngine_1.GameObject.op_Inequality(block, null)) {\\r\\n               
    block.GetComponent($typeof(BlocksMoveLeft_1.default)).SetMoving(false);\\r\\n           
    }\\r\\n        }\\r\\n    }\\r\\n    SetBlockSpeed(value) {\\r\\n        this.allBlocksSpeed
    = value;\\r\\n    }\\r\\n    DestroyBlock() {\\r\\n        let blocksToDestroy
    = []; // Lista temporal de bloques a destruir\\r\\n        for (const block of
    this.generatedBlocks) {\\r\\n            if (UnityEngine_1.GameObject.op_Inequality(block,
    null)) {\\r\\n                if (block.transform.position.x <= this.xLeftBoundDestroy)
    {\\r\\n                    blocksToDestroy.push(block); // Marca el bloque para
    destruirlo a\xF1adi\xE9ndolo a la lista\\r\\n                }\\r\\n           
    }\\r\\n        }\\r\\n        // Destruye los bloques marcados.\\r\\n       
    for (const block of blocksToDestroy) {\\r\\n            block.GetComponent($typeof(BlocksMoveLeft_1.default)).DestroyBlock();\\r\\n       
    }\\r\\n        // Filtra las referencias nulas en generatedBlocks.\\r\\n       
    this.generatedBlocks = this.generatedBlocks.filter(block => UnityEngine_1.GameObject.op_Inequality(block,
    null));\\r\\n    }\\r\\n}\\r\\nexports.default = SpawnBlockManager;\\r\\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Bhd25CbG9ja01hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJTcGF3bkJsb2NrTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHdEQUF3RDtBQUN4RCw2Q0FBcUU7QUFDckUsaURBQXFEO0FBQ3JELHFEQUE4QztBQUU5QyxzRkFBc0Y7QUFDdEYsTUFBcUIsaUJBQWtCLFNBQVEscUNBQXFCO0lBQXBFOztRQU1JLDhDQUE4QztRQUV2QyxvQkFBZSxHQUFpQixFQUFFLENBQUM7UUFFMUMsdURBQXVEO1FBQ2hELHVCQUFrQixHQUFZLElBQUkscUJBQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTNELDhDQUE4QztRQUN0QywwQkFBcUIsR0FBVyxDQUFDLENBQUM7UUFFMUMseUNBQXlDO1FBQ2xDLHNCQUFpQixHQUFXLENBQUMsRUFBRSxDQUFDO1FBRXZDLG1CQUFtQjtRQUNaLG1CQUFjLEdBQVcsQ0FBQyxDQUFDO1FBS2xDLHdEQUF3RDtRQUNoRCxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUU5Qix5QkFBb0IsR0FBVyxDQUFDLENBQUE7SUEySDVDLENBQUM7SUF6SFUsS0FBSztRQUNSLG9GQUFvRjtRQUNwRixrREFBa0Q7UUFDbEQsSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLElBQUksSUFBSTtZQUFFLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7O1lBQ3JFLHdCQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxzQkFBc0I7UUFDbEIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUdELHlDQUF5QztJQUN6QyxNQUFNO1FBQ0YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUlELHVCQUF1QjtRQUNuQixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZ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\",\"assetPath\":\"Assets/Scripts/Blocks/Blocks/SpawnBlockManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"blocks\",\"type\":\"UnityEngine.GameObject[]\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"generatedBlocks\",\"type\":\"UnityEngine.GameObject[]\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"spawnBlockPosition\",\"type\":\"UnityEngine.Vector3\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"mscorlib\",\"name\":\"xLeftBoundDestroy\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"mscorlib\",\"name\":\"allBlocksSpeed\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[\"1\"],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"SpawnBlockManager\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: 338c61c6169d90247e992541a7278c0e
  onlyWriteTrigger: 0
